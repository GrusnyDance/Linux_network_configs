## Part 1. Инструмент ipcalc

### Адрес сети 192.167.38.54/13
![task_1_1](./screens/1.1.png)
<b>Адрес сети - 192.160.0.0</b>

### Перевод масок
![task_1_2](./screens/1.2.png)
<b>Префиксная запись - /24, двоичная - 11111111.11111111.11111111.00000000</b>

![task_1_3](./screens/1.3.png)
<b>Обычная запись - 255.254.0.0, двоичная - 11111111.11111110.00000000.00000000</b>

![task_1_4](./screens/1.4.png)
<b>Обычная запись - 255.255.255.240, префиксная - /28</b>

### Минимальный / максимальный хост в сети 12.167.38.4
- с маской /8
![task_1_5](./screens/1.5.png)
<b>HostMin - 12.0.0.1, HostMax - 12.255.255.254</b>

- с маской 11111111.11111111.00000000.00000000
![task_1_6](./screens/1.6.png)
<b>HostMin - 12.167.0.1, HostMax - 12.167.255.254</b>

- с маской 255.255.254.0
![task_1_7](./screens/1.7.png)
<b>HostMin - 12.167.38.1, HostMax - 12.167.39.254</b>

- с маской /4
![task_1_8](./screens/1.8.png)
<b>HostMin - 0.0.0.1, HostMax - 15.255.255.254</b>

### Localhost
Диапазон localhost: 127.0.0.1 — 127.255.255.254

- 194.34.23.100 - не localhost
- 127.0.0.2 - localhost
- 127.1.0.1 - localhost
- 128.0.0.1 - не localhost


### Диапазоны и сегменты сетей

Диапазоны выделенные локальным сетям:
- 10.0.0.0 — 10.255.255.255
- 100.64.0.0 — 100.127.255.255
- 172.16.0.0 — 172.31.255.255
- 192.168.0.0 — 192.168.255.255

- 10.0.0.45 - частный
- 134.43.0.2 - публичный
- 192.168.4.2 - частный 
- 172.20.250.4 - частный
- 172.0.2.1 - публичный
- 192.172.0.1 - публичный
- 172.68.0.2 - публичный
- 172.16.255.255 - частный
- 10.10.10.10 - частный
- 192.169.168.1 - публичный

IP адреса шлюза у сети 10.10.0.0/18:

![task_1_9](./screens/1.9.png)
<b>10.10.0.0/18</b>

- 10.0.0.1 - неверный
- 10.10.0.2 - верный
- 10.10.10.10 - верный
- 10.10.100.1 - неверный
- 10.10.1.255 - верный

## Part 2. Статическая маршрутизация между двумя машинами

![task_2_1](./screens/2.1.png)
<b>Вывод команды ip a, одинаковый на обеих машинах</b>

Задать следующие адреса и маски: 
- ws1 - 192.168.100.10/16
- ws2 - 172.24.116.8/12

![task_2_2](./screens/2.2.png)
<b>Задать статический IP адрес на машине 1</b>

![task_2_3](./screens/2.3.png)
<b>Задать статический IP адрес на машине 2</b>

### Добавление статического маршрута вручную

![task_2_4](./screens/2.4.png)
<b>Задать статический IP адрес на машине 1</b>

![task_2_5](./screens/2.5.png)
<b>Задать статический IP адрес на машине 2</b>

### Добавление статического маршрута с сохранением

![task_2_6](./screens/2.6.png)
<b>Добавить статический маршрут от одной машины до другой с помощью файла etc/netplan/00-installer-config.yaml</b>

![task_2_7](./screens/2.7.png)
<b>Добавить статический маршрут от одной машины до другой с помощью файла etc/netplan/00-installer-config.yaml</b>

![task_2_8](./screens/2.8.png)
<b>Пинг машины 1</b>

![task_2_9](./screens/2.9.png)
<b>Пинг машины 2</b>

## Part 3. Утилита iperf3

- 8 Mbps = 1 MB/s (мегабиты в мегабайты)
- 100 MB/s = 819200 Kbps (мегабайты в килобиты)
- 1 Gbps = 1024 Mbps (гигабиты в мегабиты)

**Скорость соединения между ws1 и ws2**

![task_3_1](./screens/3.1.png)
<b>Запуск iperf на сервере</b>

![task_3_2](./screens/3.2.png)
<b>Запуск iperf на клиенте</b>

## Part 4. Сетевой экран

![task_4_1](./screens/4.1.png)
<b>Порядок прохождения пакетов через брандмауэр</b>

[Документация по iptables](https://www.opennet.ru/docs/RUS/iptables/)

![task_4_2](./screens/4.2.png)
<b>/etc/firewall машина 1</b>

![task_4_3](./screens/4.3.png)
<b>/etc/firewall машина 2</b>

После того как сработали запрещающие правила, они не заменяются разрешающими

**Запуск скриптов**

```
chmod +x /etc/firewall.sh
```
![task_4_4](./screens/4.4.png)
<b>iptables -L</b>

![task_4_5](./screens/4.5.png)
<b>iptables -L</b>

### Утилита nmap

![task_4_6](./screens/4.6.png)
<b>вывод команды nmap</b>

## Part 5. Статическая маршрутизация сети

### 5.1. Настройка адресов машин

Конфигурации машин:

![task_5_1](./screens/5.1.png)

![task_5_2](./screens/5.2.png)

![task_5_3](./screens/5.3.png)

![task_5_4](./screens/5.4.png)

![task_5_5](./screens/5.5.png)

Пропинговать ws22 с ws21, пропинговать r1 с ws11

![task_5_6](./screens/5.6.png)

![task_5_7](./screens/5.7.png)



### 5.2. Включение переадресации IP-адресов

Изменить файл /etc/sysctl.conf на обоих роутерах
```
net.ipv4.ip_forward = 1
sysctl -p /etc/sysctl.conf 
```

![task_5_8](./screens/5.8.png)

![task_5_9](./screens/5.9.png)


### 5.3. Установка маршрута по-умолчанию

Настроить маршрут по-умолчанию (шлюз) для рабочих станций. Для этого добавить gateway4 [ip роутера] в файле конфигураций

![task_5_10](./screens/5.10.png)

Вызвать ip r и показать, что добавился маршрут в таблицу маршрутизации

![task_5_11](./screens/5.11.png)

Пропинговать с ws11 роутер r2 и показать на r2, что пинг доходит

![task_5_12](./screens/5.12.png)

### 5.4. Добавление статических маршрутов

Добавить в роутеры r1 и r2 статические маршруты в файле конфигураций

![task_5_13](./screens/5.13.png)

![task_5_14](./screens/5.14.png)

Вызвать ip r и показать таблицы с маршрутами на обоих роутерах

![task_5_15](./screens/5.15.png)

##### Запустить команды на ws11:
`ip r list 10.10.0.0/[маска сети]` и `ip r list 0.0.0.0/0`

![task_5_16](./screens/5.16.png)

![task_5_17](./screens/5.17.png)
<b>комент по поводу дефолтной сети</b>

### 5.5. Построение списка маршрутизаторов

При помощи утилиты traceroute построить список маршрутизаторов на пути от ws11 до ws21

![task_5_18](./screens/5.18.png)

traceroute передвигается по маршрутам по умолчанию, отправляет по 3 пакета, засекает время

### 5.6. Использование протокола ICMP при маршрутизации

